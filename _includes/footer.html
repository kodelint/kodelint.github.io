<footer>
  <div class="container">
    <p>&copy; {{ 'now' | date: "%Y" }} {{site.data.blogger.name}}.</p>
    <p style="font-size: 0.9em; margin-top: 0.5rem; opacity: 0.6;">
      Built with <span style="color: var(--accent-secondary)">Jekyll</span> & <span style="color: var(--accent-primary)">CSS</span>
    </p>
  </div>
</footer>

<!-- scripts -->
<script defer>
  // GitHub Activity Fetcher
  async function fetchGitHubActivity() {
    const container = document.getElementById('github-activity');
    if (!container) return;

    try {
      const response = await fetch('https://api.github.com/users/kodelint/events/public');
      const events = await response.json();
      
      const pushEvents = events
        .filter(event => event.type === 'PushEvent')
        .slice(0, 3);

      if (pushEvents.length === 0) {
        container.innerHTML = '<div class="text-tertiary">No recent public commits found.</div>';
        return;
      }

      container.innerHTML = pushEvents.map(event => {
        const repoName = event.repo.name.split('/')[1];
        const commitMsg = event.payload.commits[0].message.split('\n')[0];
        const date = new Date(event.created_at).toLocaleDateString();
        
        return `
          <div class="commit-item">
            <div class="commit-icon"><i class="fas fa-code-commit"></i></div>
            <div class="commit-details">
              <span class="commit-msg">${commitMsg}</span>
              <div class="commit-meta">
                committed to <span class="commit-repo">${repoName}</span> on ${date}
              </div>
            </div>
          </div>
        `;
      }).join('');
    } catch (error) {
      container.innerHTML = '<div class="text-tertiary">Failed to load GitHub activity.</div>';
    }
  }

  fetchGitHubActivity();

  // Reading Progress Logic
  window.onscroll = function() {
    const winScroll = document.body.scrollTop || document.documentElement.scrollTop;
    const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
    const scrolled = (winScroll / height) * 100;
    document.getElementById("scroll-progress").style.width = scrolled + "%";
  };

  // Simple entry animations
  gsap.from("nav", { y: -50, opacity: 0, duration: 1, ease: "power3.out" });
  gsap.from("header", { opacity: 0, duration: 1.2, delay: 0.2 });
  gsap.from(".post, .project", { 
    y: 50, 
    opacity: 0, 
    duration: 0.8, 
    stagger: 0.1, 
    ease: "power2.out",
    delay: 0.5
  });
</script>
<script defer src="{{site.baseurl}}/assets/js/lbox.js"></script>