<!DOCTYPE html>
<html lang="en">
{% include head.html%}

<body>
  {% include nav.html %}
  
  <main class="container">
    <div class="page-header">
      <h1 class="page-title glitch-text" data-text="The Brain Dump">The Brain Dump</h1>
      <p class="tagline">Thoughts, tutorials, and rants about technology.</p>
    </div>

    <!-- 3. Tag Terminal Filter -->
    <div class="tag-terminal">
      <div class="prompt"><span class="symbol">$</span> cat categories.conf</div>
      <div class="var">BLOG_TOPICS=(</div>
      <div class="tags-list">
        <span class="tag-item active" onclick="filterPosts('all', this)">all</span>
        <span class="tag-item" onclick="filterPosts('golang', this)">golang</span>
        <span class="tag-item" onclick="filterPosts('rust', this)">rust</span>
        <span class="tag-item" onclick="filterPosts('kubernetes', this)">kubernetes</span>
        <span class="tag-item" onclick="filterPosts('sre', this)">sre</span>
        <span class="tag-item" onclick="filterPosts('terraform', this)">terraform</span>
        <span class="tag-item" onclick="filterPosts('ai_ml', this)">ai_ml</span>
      </div>
      <div class="var">)</div>
    </div>

    <div class="post-list" id="post-grid">
      {% for post in site.posts %}
      <div class="post" 
           data-tags="{{ post.title | downcase }} {{ post.tags | join: ' ' | downcase }}"
           onclick="window.open('{{site.url}}{{site.baseurl}}{{post.url}}', '_blank');">
        {% if post.image %}
        <div class="thumbnail" style="background-image: url({{site.url}}{{site.baseurl}}{{post.image}})"></div>
        {% else %}
        <div class="thumbnail" style="background-image: url({{site.url}}{{site.baseurl}}/assets/uploads/default.jpg); background: linear-gradient(45deg, #1e293b, #0f172a);"></div>
        {% endif %}
        
        <div class="card-content">
          <div class="card-meta">
            <div class="card-date">{{post.date | date_to_string}}</div>
            <div class="post-metrics">
              <span title="Caffeine Required" class="{% if post.caffeine > 5 %}danger{% endif %}"><i class="fas fa-coffee"></i> {{ post.caffeine | default: 2 }}</span>
              <span title="Anxiety Level" class="{% if post.stress > 5 %}danger{% endif %}"><i class="fas fa-wave-square"></i> {{ post.stress | default: 1 }}</span>
              <span title="Ozone Produced" class="{% if post.ozone > 5 %}danger{% endif %}"><i class="fas fa-bolt"></i> {{ post.ozone | default: 1 }}</span>
            </div>
          </div>
          <h2 class="card-title">{{post.title}}</h2>

          <!-- 2. Complexity Gauge -->
          {% assign complexity = post.caffeine | default: 2 | plus: post.stress | default: 1 | divided_by: 2 %}
          <div class="complexity-container" title="Complexity Level: {{ complexity }}/10">
            <span>Complexity:</span>
            <div class="complexity-bar">
              {% for i in (1..10) %}
                <div class="complexity-segment {% if i <= complexity %}active{% endif %}"></div>
              {% endfor %}
            </div>
          </div>

          <div class="card-footer">
            <div class="cross-post-links">
              {% if post.redirect_to contains 'medium.com' or post.medium_url %}
              <a href="{{ post.redirect_to | default: post.medium_url }}" target="_blank" title="Read on Medium" onclick="event.stopPropagation();">
                <i class="fab fa-medium cross-post-icon medium active"></i>
              </a>
              {% else %}
              <i class="fab fa-medium cross-post-icon medium" title="Not on Medium"></i>
              {% endif %}

              {% if post.devto_url %}
              <a href="{{ post.devto_url }}" target="_blank" title="Read on Dev.to" onclick="event.stopPropagation();">
                <i class="fab fa-dev cross-post-icon devto active"></i>
              </a>
              {% else %}
              <i class="fab fa-dev cross-post-icon devto" title="Not on Dev.to"></i>
              {% endif %}

              {% if post.hashnode_url %}
              <a href="{{ post.hashnode_url }}" target="_blank" title="Read on Hashnode" onclick="event.stopPropagation();">
                <i class="fas fa-h cross-post-icon hashnode active"></i>
              </a>
              {% else %}
              <i class="fas fa-h cross-post-icon hashnode" title="Not on Hashnode"></i>
              {% endif %}
            </div>
            <span class="read-more">Read Article</span>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
  </main>
  
  {% include footer.html %}
</body>

</html>